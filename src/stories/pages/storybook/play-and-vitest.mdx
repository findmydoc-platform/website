import { Meta, Controls } from '@storybook/addon-docs/blocks';

<Meta title="Pages/Play tests & Vitest" />

# Play tests & Vitest

Stories in this repo run as tests. The goal is to assert key UI behaviors and protect against regressions.

## How stories are tested

Vitest runs Storybook stories with the browser runner. Global setup and mocks live in a dedicated setup file.

## Recommended play patterns

Use `play` to simulate user behavior and assert outcomes:

```tsx
export const Interactive: Story = {
  play: async ({ canvasElement }) => {
    const canvas = within(canvasElement)
    await userEvent.click(canvas.getByRole('button'))
    await expect(canvas.getByText('Success')).toBeInTheDocument()
  },
}
```


## a11y checks

A11y tests are set to `todo` in the Storybook preview configuration. This reports violations in the test UI but does not fail CI. Keep stories accessible regardless.

## Guidelines

- Assert visible output, not internal state.
- Avoid timeouts and long delays.
- Mock external dependencies in the story file.
